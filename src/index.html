<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Grim</title>
  <link rel="stylesheet" href="index.css" />
  <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body>
    <div id="body-box">
      <div class="app-shell">
        
  <aside id="sidebar" onmouseenter="leftBarOpenTab()" onmouseleave="LeftBarClose()">
          <div id="sidebar-top">
            <button class="icon-btn" id="btn-add-tab" onclick="AddTabs()"><img src="img/addtab.png" alt="add"></button>
          </div>
          <nav id="tabs">
                <div class="tab" id="tab-globe" title="Globe">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#a48be0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-globe">
                    <circle cx="12" cy="12" r="10" />
                    <line x1="2" x2="22" y1="12" y2="12" />
                    <path d="M12 2a15.3 15.3 0 0 1 0 20M12 2a15.3 15.3 0 0 0 0 20" />
                  </svg>
                </div>
                <div class="tab" id="tab-games" title="Games" onclick="openComponentPage('games')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#a48be0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-gamepad-2"><line x1="6" x2="10" y1="11" y2="11"/><line x1="8" x2="8" y1="9" y2="13"/><line x1="15" x2="15.01" y1="12" y2="12"/><line x1="18" x2="18.01" y1="10" y2="10"/><rect width="20" height="12" x="2" y="6" rx="2"/><path d="M6 20v2"/><path d="M18 20v2"/></svg>
                </div>
                <div class="tab" id="tab-apps" title="Apps" onclick="openComponentPage('apps')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#a48be0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-apps"><rect x="3" y="3" width="7" height="7" rx="1.5"/><rect x="14" y="3" width="7" height="7" rx="1.5"/><rect x="14" y="14" width="7" height="7" rx="1.5"/><rect x="3" y="14" width="7" height="7" rx="1.5"/></svg>
                </div>
                <div class="tab" id="tab-settings" title="Settings" onclick="openComponentPage('settings')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#a48be0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 8 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 5 15.4a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 8 5.6a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09c0 .66.42 1.25 1 1.51a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 8c.66 0 1.25.42 1.51 1H21a2 2 0 0 1 0 4h-.09c-.66 0-1.25.42-1.51 1Z"/></svg>
                </div>
          </nav>
          <div id="sidebar-bottom">
          </div>
        </aside>

        
        <main id="main-area">
          <header id="topbar" onmouseenter="TopBarOpen()" onmouseleave="TopBarClose()">
            <div id="topbar-inner">
              <div id="nav-left">
                <button class="icon-btn" onclick="BackWeb()"><img src="img/pageback.png" alt="back"></button>
                <button class="icon-btn" onclick="ReloadWeb()"><img src="img/pagerelode.png" alt="reload"></button>
                <button class="icon-btn" onclick="NextWeb()"><img src="img/pagenext.png" alt="next"></button>
              </div>

              <div id="nav-center">
                
                <div class="prompt-panel topbar" id="top-pill">

                  <input class="prompt-input" id="url-bar" type="text" placeholder="Search or enter address" />
                      <script>
                        
                        document.addEventListener('DOMContentLoaded', function() {
                          const urlBar = document.getElementById('url-bar');
                          const webview = document.getElementById('ws-2');
                          urlBar.addEventListener('keydown', function(e) {
                            if (e.key === 'Enter') {
                              let input = urlBar.value.trim();
                              let targetUrl = '';
                              if (input.startsWith('http://') || input.startsWith('https://')) {
                                targetUrl = input;
                              } else {
                                targetUrl = `https://start.duckduckgo.com/?q=${encodeURIComponent(input)}`;
                              }
                                let proxyUrl = `https://scramjet.decayedon.top/scramjet/${encodeURIComponent(targetUrl)}`;
                                          webview.src = proxyUrl;
                                      }
                                    });
                                  });
                                </script>
              </div>
            </div>
            <div id="nav-right">
              <div id="win-tray"></div>
            </div>
          </div>
        </header>
        <section id="screen">
          <section class="window" id="scr-1">
            <iframe id="results-frame" style="width:100%; height:100%; border:none;"></iframe>
          </section>
        </section>
        <script>
          // Sidebar page openers now open in the single iframe
          function openComponentPage(page) {
            let pageMap = {
              games: 'components/games.html',
              apps: 'components/apps.html',
              settings: 'components/settings.html'
            };
            if (pageMap[page]) {
              const frame = document.getElementById('results-frame');
              if (frame) frame.src = pageMap[page];
            }
          }
        </script>
      </main>
    </div>
  </div>
  <script src="client.js"></script>
  <script>
    function TopBarOpen() {}
    function TopBarClose() {}
    function leftBarOpenTab() {}
    function LeftBarClose() {}
    function AddTabs() {}
    function BackWeb() {
      const frame = document.getElementById('results-frame');
      if (frame && frame.contentWindow) frame.contentWindow.history.back();
    }
    function ReloadWeb() {
      const frame = document.getElementById('results-frame');
      if (frame && frame.contentWindow) frame.contentWindow.location.reload();
    }
    function NextWeb() {
      const frame = document.getElementById('results-frame');
      if (frame && frame.contentWindow) frame.contentWindow.history.forward();
    }
  </script>
</body>
</html>